<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:fragment="addPanel">

<head>
    <link rel="stylesheet" type="text/css" href="semantic/dist/semantic.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/semantic-ui/1.11.8/semantic.min.css" />
</head>

<body>
    <form class="ui form">
        <div class="field">
            <label>Title</label>
            <input type="text" name="title" placeholder="What is the event?" id="reserve-title">
        </div>
        <div class="field">
            <label>Description</label>
            <input type="text" name="description" placeholder="Describe the information a bit."
                id="reserve-description">
        </div>
        <div class="field">
            <label>Room To Reserve</label>
            <select name="gender" class="ui dropdown" id="select">
                <h th:each="HOroom : ${HORooms}">
                    <option th:value="${HOroom.roomID}" th:text="${HOroom.roomName + ' - ' + HOroom.branch.branchName}"></option>
                </h>
                <h th:each="RJroom : ${RJRooms}">
                    <option th:value="${RJroom.roomID}" th:text="${RJroom.roomName + ' - ' + RJroom.branch.branchName}"></option>
                </h>
            </select>
        </div>
        <div class="field">
            <label>Select Period</label>
            <div class="ui form">
                <div class="two fields">
                    <div class="field">
                        <label>Start date</label>
                        <div class="ui calendar" id="rangestart">
                            <div class="ui input left icon">
                                <i class="calendar icon"></i>
                                <input type="text" placeholder="Start">
                            </div>
                        </div>
                    </div>
                    <div class="field">
                        <label>End date</label>
                        <div class="ui calendar" id="rangeend">
                            <div class="ui input left icon">
                                <i class="calendar icon"></i>
                                <input type="text" placeholder="End">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="field">
            <label style="display: inline-block; font-size: medium; color: gray;">Reserver : </label>
            <label th:text="${username}" style="display: inline-block; font-size: medium; color: gray;"></label>
        </div>
        <div style="padding-bottom: 10px;">
    </form>
    <button type = "button" class="ui green button" id="reserveBtn">Reserve</button>
    <button type = "button" class="ui red button" id="cancel" onclick="closemodal()">Cancel</button>
</body>

<script src="https://code.jquery.com/jquery-3.1.1.min.js"
    integrity="sha256-hVVnYaiADRTO2PzUGmuLJr8BLUSjGIZsDYGmIJLv2b8=" crossorigin="anonymous"></script>
<script src="semantic/dist/semantic.min.js"></script>

<script type="text/javascript" src="https://cdn.jsdelivr.net/jquery/latest/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.min.js"></script>
<script src="jquery-3.5.1.min.js"></script>
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/daterangepicker/daterangepicker.css" />

<link href="//netdna.bootstrapcdn.com/font-awesome/4.0.3/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
<script src="https://code.jquery.com/jquery-2.1.4.js"></script>
<script
    src="https://cdn.rawgit.com/mdehoog/Semantic-UI/6e6d051d47b598ebab05857545f242caf2b4b48c/dist/semantic.min.js"></script>

    <script type="text/javascript" src="/bower_components/semantic-ui-calendar/dist/calendar.min.js"></script>
<link rel="stylesheet" href="/bower_components/semantic-ui-calendar/dist/calendar.min.css" />
<script th:inline="javascript">

    var reserveBtn = $('#reserveBtn')[0]
    console.log("nani", reserveBtn)

    $('#select')
        .dropdown();
    $('#rangestart').calendar({
        type: 'datetime',
        today: true,
        initialDate: null,
        disableYear: true,
        endCalendar: $('#rangeend')
    });
    $('#rangeend').calendar({
        startCalendar: $('#rangestart')
    });

    var startDateTime = null
    var endDateTime = null
    var username = /*[[${username}]]*/ "";
    $('#rangestart').calendar({onChange: function (date, text) {
     startDateTime = text;
    },});

    $('#rangeend').calendar({onChange: function (date, text) {
     endDateTime = text;
    },});

    function closemodal() {
        console.log("test")
        modal.style.display = "none";
    }

    reserveBtn.onclick = () => {
        console.log("reserve click!")
        var title = $('#reserve-title').val()
        var description = $('#reserve-description').val()
        var branch = $('#select').val()
        console.log(title)
        console.log(description)
        console.log(branch)
        console.log(startDateTime)
        console.log(endDateTime)
        console.log(username)

    }


</script>

</html>